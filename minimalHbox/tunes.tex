\def\changeCatcodes{
    \catcode`A=13
    \catcode`B=13
    \catcode`C=13
}

\begingroup
\changeCatcodes
\gdefA{\argtohbox{\string A}}
\gdefB{\argtohbox{\string B}}
\gdefC{\argtohbox{\string C}}
\endgroup

% LESSON LEARNED: before \hbox, it is neccessary to leave vertical mode, otherwise
% this hbox will be part of the vertical list if TeX is currently in vmode
% (and the next element will be under this hbox)
\gdef\argtohbox#1{\leavevmode\hbox to 20pt{#1}}

\gdef\newstring{\penalty-10000}

\catcode`\^^M=13 % one for reading macro definition
\def\specialenv{%
    \begingroup%
    \parindent0pt%
    \catcode`\^^M=13 % ... and one for actually changing it when it is executed
    \changeCatcodes%
    \let^^M\newstring%
}
\catcode`\^^M=5 % return catcode back

\def\endspecialenv{\endgroup}

\specialenv
A...1...
B...2...
C...3...
\endspecialenv
\end
